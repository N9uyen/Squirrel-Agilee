<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - Kem dưỡng ẩm Hada Labo</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .product-info {
            display: flex;
            align-items: flex-start;
        }
        .product-info img {
            margin-right: 20px; 
            width: 300px;
            height: auto;
        }
        .product-description {
            max-width: 600px; 
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="./image/logo.jpg" alt="Logo Hasaki">
        </div>
        <nav>
            <ul>
                <li>
                    <form class="search-form" action="./search.html" method="get">
                        <input type="text" name="q" placeholder="Tìm kiếm sản phẩm...">
                        <button type="submit">Tìm kiếm</button>
                    </form>
                </li>
                <li><a href="./Index.html">Trang chủ</a></li>
                <li class="dropdown">
                    <a href="./DanhMuc.html">Danh mục</a>
                    <ul class="dropdown-menu">
                        <li><a href="./Seo.html">Trị sẹo</a></li>
                        <li><a href="./ChongNang.html">Chống nắng</a></li>
                        <li><a href="./DuongAm.html">Dưỡng ẩm</a></li>
                        <li><a href="./KemNen.html">Kem nền</a></li>
                        <li><a href="./CheKhuyetDiem.html">Che khuyết điểm</a></li>
                        <li><a href="./Phan.html">Phấn</a></li>
                    </ul>
                </li>
                <li><a href="./Giohang.html">Giỏ hàng</a></li>
                <li id="login-register-links">
                    <a href="./DangNhap.html">Đăng nhập</a>
                    <a href="./DangKy.html">Đăng ký</a>
                </li>
                <li id="user-info" class="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <a href="#" id="logout">Đăng xuất</a>
                </li>
            </ul>
        </nav>
    </header>

    <section class="product-detail">
        <h1 style="text-align:center;">Kem dưỡng ẩm Hada Labo</h1>
        <div class="product-info">
            <img src="./image/sp8.jpg" alt="Kem dưỡng ẩm Hada Labo">
            <div class="product-description">
                <p><strong>Giá:</strong> <span id="product-price"></span></p>
                <p>Kem dưỡng ẩm Hada Labo giúp giúp cấp ẩm cho da.</p>
                <p>Thành phẩn: <br>
                    Lần đầu tiên trên thế giới, Hyaluronic Acid lên men tự nhiên (Fermented HA) giúp giảm tình trạng mất nước, củng cố màng ẩm tự nhiên bảo vệ da.<br>
                    Đã kiểm nghiệm dịu nhẹ, an toàn cho da: công thức dịu nhẹ không Paraben, không cồn, không hương liệu, không chất tạo màu, không dầu khoáng, pH cân bằng.<br>
                    Kết hợp hệ dưỡng ẩm sâu HA đặc trưng (HA, Super HA, Nano HA) giúp cung cấp độ ẩm tối ưu, duy trì làn da ẩm mượt suốt 36 giờ.
                </p>
                <p>Hạn sử dụng: 4 năm </p>
                <p>Nơi sản xuất: Nhật Bản</p>
                <p>Cách dùng: <br>
                    Bước 1 Sau khi rửa sạch mặt, bạn lấy một lượng kem vừa đủ rồi chấm sản phẩm đều lên 5 điểm trên mặt (2 bên má, trán, cằm và mũi).<br>
                    Bước 2 Theo chuyển động tròn từ trong ra ngoài, bạn xoa nhẹ kem dưỡng đều ra toàn bộ khuôn mặt.<br>
                    Bước 3Massage nhẹ nhàng để kem đạt được hiệu quả thẩm thấu tốt nhất.
                </p>
                <p>Lưu ý: <br>
                    Bạn có thể sử dụng sản phẩm vào mỗi buổi sáng và buổi tối. Khi sử dụng vào buổi sáng, hãy thoa kem chống nắng sau khi bôi kem dưỡng Hada Labo Perfect White Cream.<br>
                    Nếu có dấu hiệu kích ứng như: Sưng, nổi mẩn đỏ, ngứa, nổi mụn... hãy ngưng sử dụng ngay và tham khảo ý kiến từ bác sĩ.
                </p>
                <label for="quantity">Số lượng:</label>
                <input type="number" id="quantity" value="1" min="1">
                <button id="addToCart">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </section>

    <footer>
        <p></p>
    </footer>

    <script>
        function formatCurrency(number) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(number).replace("₫", "đ");
        }

        document.getElementById('product-price').textContent = formatCurrency(600000);

        const addToCartButton = document.getElementById('addToCart');
        const quantityInput = document.getElementById('quantity');

        addToCartButton.addEventListener('click', () => {
            const product = {
                name: 'Kem dưỡng ẩm Hada Labo',
                price: 600000,
                quantity: parseInt(quantityInput.value),
                image: './image/sp8.jpg'
            };

            let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
            const existingProduct = cart.find(item => item.name === product.name);

            if (existingProduct) {
                existingProduct.quantity += product.quantity;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Đã thêm vào giỏ hàng!');
        });
        window.addEventListener('load', function() {
                const loggedIn = localStorage.getItem('loggedIn');
                const phone = localStorage.getItem('phone');
                const userName = localStorage.getItem('userName');
    
                if (loggedIn) {
                    document.getElementById('login-register-links').style.display = 'none';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'flex';
                    document.getElementById('user-name').textContent = ` ${userName || phone}`;
    
                    setTimeout(() => {
                        messageDiv.style.display = 'none';
                    }, 5000);
                }
    
                document.getElementById('logout')?.addEventListener('click', function() {
                    localStorage.removeItem('loggedIn');
                    localStorage.removeItem('phone');
                    localStorage.removeItem('userName');
    
                    document.getElementById('login-register-links').style.display = 'block';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'none';
    
                    window.location.reload();
                });
            });
    </script>
</body>
</html>
