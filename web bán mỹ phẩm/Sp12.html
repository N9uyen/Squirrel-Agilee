<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - Kem chống nắng Hây Hây</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .product-info {
            display: flex;
            align-items: flex-start;
        }
        .product-info img {
            margin-right: 20px; 
            width: 300px;
            height: auto;
        }
        .product-description {
            max-width: 600px; 
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="./image/logo.jpg" alt="Logo Hasaki">
        </div>
        <nav>
            <ul>
                <li>
                    <form class="search-form" action="./search.html" method="get">
                        <input type="text" name="q" placeholder="Tìm kiếm sản phẩm...">
                        <button type="submit">Tìm kiếm</button>
                    </form>
                </li>
                <li><a href="./Index.html">Trang chủ</a></li>
                <li class="dropdown">
                    <a href="./DanhMuc.html">Danh mục</a>
                    <ul class="dropdown-menu">
                        <li><a href="./Seo.html">Trị sẹo</a></li>
                        <li><a href="./ChongNang.html">Chống nắng</a></li>
                        <li><a href="./DuongAm.html">Dưỡng ẩm</a></li>
                        <li><a href="./KemNen.html">Kem nền</a></li>
                        <li><a href="./CheKhuyetDiem.html">Che khuyết điểm</a></li>
                        <li><a href="./Phan.html">Phấn</a></li>
                    </ul>
                </li>
                <li><a href="./Giohang.html">Giỏ hàng</a></li>
                <li id="login-register-links">
                    <a href="./DangNhap.html">Đăng nhập</a>
                    <a href="./DangKy.html">Đăng ký</a>
                </li>
                <li id="user-info" class="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <a href="#" id="logout">Đăng xuất</a>
                </li>
            </ul>
        </nav>
    </header>

    <section class="product-detail">
        <h1 style="text-align:center;">Kem chống nắng Hây Hây</h1>
        <div class="product-info">
            <img src="./image/sp12.jpg" alt="Kem chống nắng Hây Hây">
            <div class="product-description">
                <p><strong>Giá:</strong> <span id="product-price"></span></p>
                <p>Kem chống nắng Hây Hây giúp chống nắng hiệu quả.</p>
                <p>Thành phẩn: <br>
                    •	Nước tinh khiết.<br>
                    •	Hydrogenated polyisobutene.<br>
                    •	Cyclopentasiloxane.<br>
                    •	Titanium dioxide.<br>
                    •	Aluminium hydroxide.<br>
                    •	Stearic acid.<br>
                    •	Ethylhexyl methoxycinnamate.<br>
                    •	Quaternium-18 bentonite.<br>
                    •	DihydroxypropylArginine HCl.<br>
                    •	Lauryl peg-9 polydimethylsiloxyethyl dimethicone.<br>
                    •	Coco-Caprylate/caprate.<br>
                    •	Silica.<br>
                    •	Sorbitan sesquiisostearate.<br>
                    •	Dextrin palmitate.<br>
                    •	Vitamin E.<br>
                    •	Sodium chloride.<br>
                    •	Phenoxyethanol.
                </p>
                <p>Hạn sử dụng: 24 tháng. Mở nắp: 12 tháng</p>
                <p>Nơi sản xuất: Việt Nam</p>
                <p>Cách dùng: <br>
                    - Sau khi rửa mặt và dưỡng ẩm, thoa đều kem kem chống nắng lên mặt và cổ. Dùng trước các bước trang điểm và luôn tẩy trang vào cuối ngày.<br>
                    - Nếu bạn hoạt động dưới ánh nắng gắt cả ngày dài thì khuyến khích nên thoa lại kem chống nắng sau 2-3h đồng hồ để kem chống nắng bảo vệ da bạn được tối ưu.
                </p>
                <p>Lưu ý: bảo quản nơi khô mát, tránh nắng nóng và nguồn nhiệt.</p>
                <label for="quantity">Số lượng:</label>
                <input type="number" id="quantity" value="1" min="1">
                <button id="addToCart">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </section>

    <footer>
        <p></p>
    </footer>

    <script>
        function formatCurrency(number) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(number).replace("₫", "đ");
        }

        document.getElementById('product-price').textContent = formatCurrency(200000);

        const addToCartButton = document.getElementById('addToCart');
        const quantityInput = document.getElementById('quantity');

        addToCartButton.addEventListener('click', () => {
            const product = {
                name: 'Kem chống nắng Hây Hây',
                price: 200000,
                quantity: parseInt(quantityInput.value),
                image: './image/sp12.jpg'
            };

            let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
            const existingProduct = cart.find(item => item.name === product.name);

            if (existingProduct) {
                existingProduct.quantity += product.quantity;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Đã thêm vào giỏ hàng!');
        });
        window.addEventListener('load', function() {
                const loggedIn = localStorage.getItem('loggedIn');
                const phone = localStorage.getItem('phone');
                const userName = localStorage.getItem('userName');
    
                if (loggedIn) {
                    document.getElementById('login-register-links').style.display = 'none';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'flex';
                    document.getElementById('user-name').textContent = ` ${userName || phone}`;
    
                    setTimeout(() => {
                        messageDiv.style.display = 'none';
                    }, 5000);
                }
    
                document.getElementById('logout')?.addEventListener('click', function() {
                    localStorage.removeItem('loggedIn');
                    localStorage.removeItem('phone');
                    localStorage.removeItem('userName');
    
                    document.getElementById('login-register-links').style.display = 'block';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'none';
    
                    window.location.reload();
                });
            });
    </script>
</body>
</html>
