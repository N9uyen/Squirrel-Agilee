<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - Kem nền Bobbi Brown</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .product-info {
            display: flex;
            align-items: flex-start;
        }
        .product-info img {
            margin-right: 20px; 
            width: 300px;
            height: auto;
        }
        .product-description {
            max-width: 600px; 
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="./image/logo.jpg" alt="Logo Hasaki">
        </div>
        <nav>
            <ul>
                <li>
                    <form class="search-form" action="./search.html" method="get">
                        <input type="text" name="q" placeholder="Tìm kiếm sản phẩm...">
                        <button type="submit">Tìm kiếm</button>
                    </form>
                </li>
                <li><a href="./Index.html">Trang chủ</a></li>
                <li class="dropdown">
                    <a href="./DanhMuc.html">Danh mục</a>
                    <ul class="dropdown-menu">
                        <li><a href="./Seo.html">Trị sẹo</a></li>
                        <li><a href="./ChongNang.html">Chống nắng</a></li>
                        <li><a href="./DuongAm.html">Dưỡng ẩm</a></li>
                        <li><a href="./KemNen.html">Kem nền</a></li>
                        <li><a href="./CheKhuyetDiem.html">Che khuyết điểm</a></li>
                        <li><a href="./Phan.html">Phấn</a></li>
                    </ul>
                </li>
                <li><a href="./Giohang.html">Giỏ hàng</a></li>
                <li id="login-register-links">
                    <a href="./DangNhap.html">Đăng nhập</a>
                    <a href="./DangKy.html">Đăng ký</a>
                </li>
                <li id="user-info" class="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <a href="#" id="logout">Đăng xuất</a>
                </li>
            </ul>
        </nav>
    </header>

    <section class="product-detail">
        <h1 style="text-align:center;">Kem nền Bobbi Brown</h1>
        <div class="product-info">
            <img src="./image/sp11.jpg" alt="Kem nền Bobbi Brown">
            <div class="product-description">
                <p><strong>Giá:</strong> <span id="product-price"></span></p>
                <p>Sản phẩm có tác dụng làm đều màu da, che khuyết điểm, đem lại lớp nền tự nhiên cho làn da khi trang điểm. Thành phần sản phẩm còn chứa chất dưỡng ẩm giúp làm mềm da, cung cấp độ ẩm và nuôi dưỡng làn da ngay cả khi trang điểm. Đặc biệt, với chỉ số chống nắng SPF15 nó còn giúp bảo vệ da khỏi tia cực tím và tác động xấu từ môi trường bên ngoài..</p>
                <p>Thành phẩn: Octinoxate 3.0% W/W P/P, Titanium Dioxide 1.6% W/W P/P, Water/Aqua/Eau, Dimethicone, Trimethylsiloxysilicate, Cetyl Peg/Ppg-10/1 Dimethicone, Butylene Glycol, Glycerin, Disteardimonium Hectorite, Sodium Chloride, Polyglyceryl-3 Diisostearate, Phenoxyethanol, Dimethicone Crosspolymer, Methicone, Aluminum Hydroxide, Stearic Acid, Sodium Dehydroacetate, Tocopheryl Acetate, Disodium Edta, Butyrospermum Parkii (Shea Butter), (Parfum), Linalool, Axít citric, Tocopherol, Lecithin, Ascorbyl Palmitate, Glyceryl Stearate, Talc, Glyceryl Oleate, Chiết xuất Laminaria Saccharina, [+/- Mica, Titanium Dioxide (Ci 77891), Iron Oxides (Ci 77491), Iron Oxides (Ci 77492), Iron Oxides (Ci 77499)] </p>
                <p>Hạn sử dụng: </p>
                <p>Nơi sản xuất: </p>
                <p>Cách dùng:<br> 
                    Bước 1: Làm sạch và dưỡng da bằng kem dưỡng ẩm.<br> 
                    Bước 2: Lắc đều sản phẩm để đảm bảo các thành phần đã được pha trộn đều.<br> 
                    Bước 3: Sử dụng 1-2 pump để lấy một lượng kem nền vừa đủ và chấm lên 5 điểm trên khuôn mặt (trán, mũi, cằm và 2 má).<br>                    
                    Bước 4: Dùng cọ, bọt biển hoặc đầu ngón tay, nhẹ nhàng thoa kem nền đều trên da. Bắt đầu từ giữa khuôn mặt và lan ra ngoài để đảm bảo lớp nền đều và tự nhiên.<br>              
                    Bước 5: Nếu làn da có nhiều khuyết điểm, nên sử dụng che khuyết điểm thay vì dặm thêm nhiều lớp nền để tránh bị cakey.<br> 
                    Bước 6: Sau khi thoa kem nền, tiếp tục bước trang điểm tiếp theo như phấn phủ, son môi và các bước trang điểm khác.</p>
                <p>Lưu ý: Trước khi sử dụng, hãy lựa chọn tông màu phù hợp với màu da của bạn.</p>
                <label for="quantity">Số lượng:</label>
                <input type="number" id="quantity" value="1" min="1">
                <button id="addToCart">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </section>

    <footer>
        <p></p>
    </footer>

    <script>
        function formatCurrency(number) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(number).replace("₫", "đ");
        }

        document.getElementById('product-price').textContent = formatCurrency(210000);

        const addToCartButton = document.getElementById('addToCart');
        const quantityInput = document.getElementById('quantity');

        addToCartButton.addEventListener('click', () => {
            const product = {
                name: 'Kem nền Bobbi Brown',
                price: 210000,
                quantity: parseInt(quantityInput.value),
                image: './image/sp11.jpg'
            };

            let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
            const existingProduct = cart.find(item => item.name === product.name);

            if (existingProduct) {
                existingProduct.quantity += product.quantity;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Đã thêm vào giỏ hàng!');
        });
        window.addEventListener('load', function() {
                const loggedIn = localStorage.getItem('loggedIn');
                const phone = localStorage.getItem('phone');
                const userName = localStorage.getItem('userName');
    
                if (loggedIn) {
                    document.getElementById('login-register-links').style.display = 'none';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'flex';
                    document.getElementById('user-name').textContent = ` ${userName || phone}`;
    
                    setTimeout(() => {
                        messageDiv.style.display = 'none';
                    }, 5000);
                }
    
                document.getElementById('logout')?.addEventListener('click', function() {
                    localStorage.removeItem('loggedIn');
                    localStorage.removeItem('phone');
                    localStorage.removeItem('userName');
    
                    document.getElementById('login-register-links').style.display = 'block';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'none';
    
                    window.location.reload();
                });
            });
    </script>
</body>
</html>
