<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - Kem nghệ trị sẹo NeoCurma</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .product-info {
            display: flex;
            align-items: flex-start;
        }
        .product-info img {
            margin-right: 20px;
            width: 300px;
            height: auto;
        }
        .product-description {
            max-width: 600px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="./image/logo.jpg" alt="Logo Hasaki">
        </div>
        <nav>
            <ul>
                <li>
                    <form class="search-form" action="./search.html" method="get">
                        <input type="text" name="q" placeholder="Tìm kiếm sản phẩm...">
                        <button type="submit">Tìm kiếm</button>
                    </form>
                </li>
                <li><a href="./Index.html">Trang chủ</a></li>
                <li class="dropdown">
                    <a href="./DanhMuc.html">Danh mục</a>
                    <ul class="dropdown-menu">
                        <li><a href="./Seo.html">Trị sẹo</a></li>
                        <li><a href="./ChongNang.html">Chống nắng</a></li>
                        <li><a href="./DuongAm.html">Dưỡng ẩm</a></li>
                        <li><a href="./KemNen.html">Kem nền</a></li>
                        <li><a href="./CheKhuyetDiem.html">Che khuyết điểm</a></li>
                        <li><a href="./Phan.html">Phấn</a></li>
                    </ul>
                </li>
                <li><a href="./Giohang.html">Giỏ hàng</a></li>
                <li id="login-register-links">
                    <a href="./DangNhap.html">Đăng nhập</a>
                    <a href="./DangKy.html">Đăng ký</a>
                </li>
                <li id="user-info" class="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <a href="#" id="logout">Đăng xuất</a>
                </li>
            </ul>
        </nav>
    </header>

    <section class="product-detail">
        <h1 style="text-align:center;">Kem nghệ trị sẹo NeoCurma</h1>
        <div class="product-info">
            <img src="./image/sp1.jpg" alt="Kem nghệ trị sẹo NeoCurma">
            <div class="product-description">
                <p><strong>Giá:</strong> <span id="product-price"></span></p>
                <p>Hỗ trợ giảm mụn, ngừa sẹo thâm</p>
                <p>Neocurma là một loại gel trị mụn được nghiên cứu và sản xuất từ 4 loại thảo dược chính, đặc biệt là tinh nghệ nano. Gel nghệ NeoCurma sở hữu thành phần chính là nano nghệ có khả năng thẩm thấu đến 7500 lần, kết hợp cùng chiết xuất liễu thảo, hành tây đỏ, lô hội và vitamin E, giúp làm giảm sưng viêm, hỗ trợ điều trị mụn, làm mờ thâm và phục hồi làn da sau mụn hiệu quả. Sản phẩm được thiết kế chứa trong dạng tuýp nhỏ gọn thuận tiện cho người dùng mang đi mọi nơi.</p>
                <p>Thành phẩn: Water, PEG-40 Hydrogenated Castor Oil, Polyacrylate Crosspolymer-11, Centella Asiatica Extract (chiết xuất Rau Má), Butylene Glycol, Curcumin (Nghệ), Aloe Barbadensis Leaf Extract (chiết xuất Lô Hội), Glycerin, Propylene Glycol, Allium Cepa (Onion) Bulb (Chiết xuất Hành tây đỏ), Phenoxyethanol, Ethylhexylglycerin, Fragrance</p>
                <p>Hạn sử dụng: 3 năm kể từ ngày sản xuất</p>
                <p>Nơi sản xuất: Việt Nam</p>
                <p>Cách dùng:<br>
                    Bước 1: Rửa sạch mặt bằng sữa rửa mặt (sáng và tối/ ngày). Sau đó, lau khô da bằng khăn mềm, sạch.<br>
                    Bước 2: Thoa NeoCurma lên vùng mụn thâm (3-4 lần/ngày). Thoa lớp mỏng vừa phải.<br>
                    (*) Có thể thoa lớp mỏng NeoCurma lên toàn mặt như mặt nạ mờ thâm, dưỡng ẩm (2-3 lần/ tuần) mà không cần rửa lại ngay với nước.
                </p>
                <p>Lưu ý: Tránh xa tầm tay trẻ em. Tránh tiếp xúc với mắt.</p>
                <label for="quantity">Số lượng:</label>
                <input type="number" id="quantity" value="1" min="1">
                <button id="addToCart">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </section>

    <footer>
        <p>2024 Innisfree. All Rights Reserved.</p>
    </footer>

    <script>
        function formatCurrency(number) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(number).replace("₫", "đ");
        }

        document.getElementById('product-price').textContent = formatCurrency(500000);

        const addToCartButton = document.getElementById('addToCart');
        const quantityInput = document.getElementById('quantity');

        addToCartButton.addEventListener('click', () => {
            const product = {
                name: 'Kem nghệ trị sẹo NeoCurma',
                price: 500000,
                quantity: parseInt(quantityInput.value),
                image: './image/sp1.jpg'
            };

            let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];
            const existingProduct = cart.find(item => item.name === product.name);

            if (existingProduct) {
                existingProduct.quantity += product.quantity;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Đã thêm vào giỏ hàng!');
        });
        window.addEventListener('load', function() {
                const loggedIn = localStorage.getItem('loggedIn');
                const phone = localStorage.getItem('phone');
                const userName = localStorage.getItem('userName');
    
                if (loggedIn) {
                    document.getElementById('login-register-links').style.display = 'none';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'flex';
                    document.getElementById('user-name').textContent = ` ${userName || phone}`;
    
                    setTimeout(() => {
                        messageDiv.style.display = 'none';
                    }, 5000);
                }
    
                document.getElementById('logout')?.addEventListener('click', function() {
                    localStorage.removeItem('loggedIn');
                    localStorage.removeItem('phone');
                    localStorage.removeItem('userName');
    
                    document.getElementById('login-register-links').style.display = 'block';
                    const userInfo = document.getElementById('user-info');
                    userInfo.style.display = 'none';
    
                    window.location.reload();
                });
            });
    </script>
</body>
</html>
